package cux.oracle.apps.per.bonus.project.server;

import oracle.apps.fnd.framework.server.OAViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class PrjDistributionVOImpl extends OAViewObjectImpl {
    /**This is the default constructor (do not remove)
     */
    public PrjDistributionVOImpl() {
    }

    public void initQuery(int iPrjID, int iManager, int iSupervisorId, 
                          int iUserId) {
        setWhereClause(null);
        if (iManager == iUserId) //项目经理
            setWhereClause("APPROVED_STATUS <> '已审批' and Project_Id = :1 and PERSON_ID<>:2");
        else if (iSupervisorId == iUserId)
            setWhereClause("APPROVED_STATUS <> '已审批' and Project_Id = :1 and PERSON_ID=:2");
        else
            return;
        setWhereClauseParams(null);
        setWhereClauseParam(0, iPrjID);
        setWhereClauseParam(1, iManager);
        setMaxFetchSize(-1);
        executeQuery();
    }
}
