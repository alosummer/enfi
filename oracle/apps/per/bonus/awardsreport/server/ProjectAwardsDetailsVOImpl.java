package cux.oracle.apps.per.bonus.awardsreport.server;

import oracle.apps.fnd.framework.server.OAViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ProjectAwardsDetailsVOImpl extends OAViewObjectImpl {
    /**This is the default constructor (do not remove)
     */
    public ProjectAwardsDetailsVOImpl() {
    }

    public void initSQL(String projectNumber, String distDate) {
        StringBuffer sbfSQLValue = new StringBuffer(1000);
        sbfSQLValue.append("SELECT DISTINCT (PAPF.EMPLOYEE_NUMBER) AS EMPLOYEE_NUMBER,\n" + 
                           "                PAPF.LAST_NAME AS EMPLOYEE_NAME,\n" + 
                           "                CBPD.DEP_NAME AS DEPT_NAME,\n" + 
                           "                CBPD.DISTRIBUTION_DATE,\n" + 
                           "                CBPD.DISTRIBUTION_AMOUNT\n" + 
                           "  FROM APPS.CUX_BONUS_PERSON_DISTRIBUTION CBPD,\n" + 
                           "       APPS.PA_PROJECTS_ALL               PPA,\n" + 
                           "       APPS.PER_ALL_PEOPLE_F              PAPF\n" + 
                           " WHERE CBPD.PROJECT_ID = PPA.PROJECT_ID\n" + 
                           "   AND CBPD.PERSON_ID = PAPF.PERSON_ID\n" + 
                           "   AND CBPD.DISTRIBUTION_DATE = TO_DATE('" + 
                           distDate + "', 'yyyy-mm-dd')\n" + 
                           "   AND PPA.SEGMENT1 = '" + projectNumber + "'\n" + 
                           "   AND CBPD.DISTRIBUTION_STATUS = '已批准'\n" + 
                           "   AND CBPD.IMPORT_STATUS <> '已退回'\n" + 
                           " ORDER BY PAPF.EMPLOYEE_NUMBER");
        System.out.println(sbfSQLValue);
        cancelQuery();
        setQuery(sbfSQLValue.toString());
        executeQuery();
    }
}
